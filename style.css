:root{
  --bg:#f8fafc; --panel:#ffffff; --text:#1e293b; --muted:#64748b;
  --primary:#4f46e5; --chip:#e2e8f0; --chip-on:#dbeafe; --line:#cbd5e1;
  --q-jog:#bfdbfe; --q-point:#fed7aa; --q-sup:#bbf7d0; --q-off:#e5e7eb; --q-other:#f5d0fe;
  /* ▼ 月一覧用の薄色を追加 */
  --q-jog-light:#f0f9ff;
  --q-point-light:#fffbeb;
  --q-sup-light:#f0fdf4;
  --q-off-light:#f8fafc;
  --q-other-light:#fef7ff;
  /* ▲ ここまで追加 */
  --cond1:#ef4444; --cond2:#f97316; --cond3:#eab308; --cond4:#84cc16; --cond5:#22c55e;
}

*{ box-sizing:border-box; }
html,body{
  height:100%;
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,"Hiragino Sans",Meiryo,sans-serif;
}

.hidden{ display:none !important; }

/* ========== Topbar ========== */
.topbar{
  display:flex; align-items:center; gap:12px; flex-wrap:wrap;
  padding:10px 16px; background:var(--panel); border-bottom:1px solid var(--line);
}
.brand{ font-weight:700; }
.ghost{
  background:transparent; border:1px solid var(--line); color:var(--text);
  padding:6px 10px; border-radius:10px; cursor:pointer;
}
.primary{
  background:var(--primary); border:none; color:#fff;
  padding:8px 14px; border-radius:12px; cursor:pointer;
}
.badge{
  display:inline-block; padding:2px 6px; border-radius:6px;
  font-size:12px; line-height:1; border:1px solid rgba(0,0,0,.08);
}
.badge.primary{ background:#2563eb; color:#fff; }
.badge.warn{ background:#f59e0b; color:#1f2937; }

/* ========== Tabs ========== */
.tabs{ display:flex; gap:8px; padding:8px 16px; border-bottom:1px solid var(--line); }
.tab{
  position:relative;
  background:transparent; border:1px solid var(--line); color:var(--text);
  padding:6px 12px; border-radius:10px; cursor:pointer;
}
.tab.active{ background:var(--chip-on); }
.tab.new-message::after{
  content:''; position:absolute; top:4px; right:4px;
  width:8px; height:8px; border-radius:50%; background:var(--primary);
  border:1px solid var(--panel);
}

.tabpanel{ display:none; padding:14px; }
.tabpanel.active{ display:block; }

/* ========== Panels & Layout ========== */
.panel{
  background:var(--panel); border:1px solid var(--line);
  border-radius:14px; padding:12px;
}
.panel.right{ display:flex; flex-direction:column; gap:12px; }

/* 2カラム（左：筋マップ / 右：フォーム類） */
.journal-grid{
  display:grid; gap:12px;
  grid-template-columns:minmax(420px,1fr) minmax(420px,0.9fr);
}

/* スマホ：フォーム→筋マップの順に縦並び */
@media (max-width:768px){
  .journal-grid{ display:flex !important; flex-direction:column; gap:12px; }
  .journal-grid .panel{ order:2; }
  .journal-grid .panel.right{ order:1; }
}

/* === muscle map === */
#mmWrap{
  position:relative;
  max-width:680px;
  margin:12px auto;
}
#mmWrap img{
  display:block;
  width:100%;
  height:auto;         /* 画像に合わせて親の高さが決まる */
}
#mmWrap canvas{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;         /* ← ここを 100% にする（auto 禁止） */
  display:block;
  image-rendering:pixelated;
}
#mmBase   { z-index:0; opacity:0; pointer-events:none; }
#mmBarrier{ z-index:1; opacity:0; pointer-events:none; } /* 見えない壁 */
#mmOverlay{ z-index:2; cursor:crosshair; }


/* ========== Palette ========== */
.palette{ display:flex; gap:8px; align-items:center; margin-bottom:6px; }
.lvl{
  border:1px solid var(--line); background:#f1f5f9; color:var(--text);
  padding:6px 10px; border-radius:10px; cursor:pointer; font-weight:700;
}
.lvl.active{ outline:2px solid var(--primary); }
#eraser{ background:#eef2ff; color:#1e3a8a; border:1px solid var(--line); }
.dot{ display:inline-block; width:14px; height:14px; border-radius:3px; margin-right:6px; vertical-align:-2px; }
.dot1{ background:#c7d2fe; } /* lv1 (青系) */
.dot2{ background:#fdbA74; } /* lv2 (橙系) */
.dot3{ background:#ef4444; } /* lv3 (赤系) */

/* ========== Week bar / Chips ========== */
.weekbar{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin-bottom:8px; }
#datePicker{ margin-left:auto; }
.chips{
  flex:1 1 100%; order:2;
  display:flex; gap:6px; overflow-x:auto; padding:4px 2px;
  -webkit-overflow-scrolling:touch; scrollbar-width:thin;
}
.chips::-webkit-scrollbar{ height:6px; }
.chip{
  display:inline-flex; flex-direction:column; align-items:center; justify-content:center;
  gap:2px; min-width:64px; padding:8px 10px;
  background:var(--chip); border:1px solid var(--line); border-radius:12px;
  cursor:pointer; text-align:center; color:var(--text); line-height:1.1;
}
.chip.active{ outline:2px solid var(--primary); }
.km{ font-size:12px; color:var(--muted); }

@media (max-width:520px){
  .chip{ min-width:56px; padding:6px 8px; }
}

/* ========== Quick tags ========== */
.quick{
  display:flex; align-items:center; gap:8px;
  background:var(--panel); border:1px solid var(--line); padding:8px; border-radius:10px;
}
.qbtn{
  border:none; color:#1f2735; padding:8px 14px; border-radius:8px; cursor:pointer; font-weight:500;
}
.qbtn.jog{ background:var(--q-jog); }
.qbtn.point{ background:var(--q-point); }
.qbtn.sup{ background:var(--q-sup); }
.qbtn.off{ background:var(--q-off); }
.qbtn.other{ background:var(--q-other); }
.qbtn.active{ outline:2px solid var(--primary); outline-offset:2px; }


.comment-box {
  margin-top: 12px;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 6px;
  background: #fafafa;
}
.comment-box textarea {
  width: 100%;
  margin-top: 6px;
  padding: 6px;
}
.comment-box button {
  margin-top: 6px;
  padding: 6px 12px;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 4px;
}
.comment-item {
  margin-top: 6px;
  padding: 4px;
  border-top: 1px dashed #ddd;
  font-size: 14px;
}


/* ========== Forms ========== */
.formcol{ display:flex; flex-direction:column; gap:10px; }
.formcol input,
.formcol textarea,
.filters select,
.filters input,
.form-control{
  width:100%; background:var(--bg); border:1px solid var(--line);
  color:var(--text); border-radius:10px; padding:8px;
}
.note .merge{ display:flex; gap:6px; margin-top:6px; }
.savebar{ display:flex; justify-content:space-between; align-items:center; }
.muted{ color:var(--muted); font-size:12px; }

#feelInput{ min-height:12em; } /* 感想は少し高め */

/* ========== Condition rating ========== */
.condition-rating{ display:flex; gap:4px; margin-top:4px; }
.condition-rating button{
  border:1px solid var(--line); background:transparent; color:var(--text);
  width:30px; height:30px; border-radius:50%; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
}
.condition-rating button.active{
  background:var(--primary); color:#fff; border-color:var(--primary); font-weight:700;
}

.condition-display{ display:flex; gap:2px; }
.condition-display .star{ font-size:14px; }
.condition-display .star.c1{ color:var(--cond1); }
.condition-display .star.c2{ color:var(--cond2); }
.condition-display .star.c3{ color:var(--cond3); }
.condition-display .star.c4{ color:var(--cond4); }
.condition-display .star.c5{ color:var(--cond5); }

/* ========== Month list ========== */
.monthbar{
  display:flex; gap:8px; align-items:center;
  background:var(--panel); padding:10px; border:1px solid var(--line); border-radius:12px; margin-bottom:8px;
}
.list{ display:flex; flex-direction:column; gap:6px; }
.row{
  display:grid; grid-template-columns: 60px 1fr; gap: 8px; align-items:stretch; /* 隙間を詰め、高さを均等に */
  background:var(--panel); border:1px solid var(--line); border-radius:10px; padding: 6px 8px; cursor:pointer; /* パディング調整 */
}
.row .dow{ 
  color:var(--muted); 
  /* width:56px; */ /* gridが幅を管理 */
  text-align:center; 
  font-weight: bold;
  border-radius: 6px; /* 角丸 */
  padding: 4px 0; /* 上下パディング */
  line-height: 1.1;
  
  /* 以下を追加: 中央揃え＆高さ一杯 */
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
}
.row .txt{ color:var(--text); display:flex; flex-direction:column; gap:4px; align-items:flex-start; }

.month-tags{ display:flex; gap:4px; }
.cat-tag{
  color:#1e293b; padding:2px 8px; border-radius:8px; font-size:12px; font-weight:500; white-space:nowrap;
}
.cat-tag.jog{ background:var(--q-jog); }
.cat-tag.point{ background:var(--q-point); }
.cat-tag.sup{ background:var(--q-sup); }
.cat-tag.off{ background:var(--q-off); }
.cat-tag.other{ background:var(--q-other); }

/* ========== Plans (chat) ========== */
.chatwrap{ margin-top:10px; }
.chat{
  background:var(--panel); border:1px solid var(--line); border-radius:10px; padding:8px;
}
.chatlog{ max-height:180px; overflow:auto; margin-bottom:6px; font-size:14px; }
.chat-input-area{ display:flex; gap:8px; margin-top:6px; }
#chatInput,#memoChatInput{
  width:100%; background:var(--bg); border:1px solid var(--line);
  color:var(--text); border-radius:10px; padding:8px;
}
.msg{ margin:6px 0; }
.msg .name{ color:var(--primary); margin-right:6px; }

/* ========== Dashboard ========== */
.dash-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.dash-header h3{ margin:0; }
.dash-controls{ display:flex; gap:8px; align-items:center; }

/* ========== Login + Help Overlay ========== */
.login{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  background:rgba(0,0,0,.5);
}
.login-card{
  background:var(--panel); border:1px solid var(--line); border-radius:14px;
  padding:20px; min-width:300px; box-shadow:0 10px 30px rgba(0,0,0,.1);
}
.login .logo{ font-weight:800; font-size:22px; margin-bottom:6px; }
.login .desc{ color:var(--muted); margin-bottom:12px; }
.login input{
  width:100%; background:var(--bg); border:1px solid var(--line);
  color:var(--text); padding:8px; border-radius:10px; margin-bottom:10px;
}
.login .wide{ width:100%; }

#helpOverlay .logo{ font-weight:800; font-size:20px; margin-bottom:4px; }
#helpOverlay .desc{ color:var(--muted); margin-bottom:10px; }
#helpBody.doc{
  background:var(--bg); border:1px solid var(--line); border-radius:10px; padding:12px; color:var(--text);
}
#helpBody h2,#helpBody h3{ margin:12px 0 6px; }
#helpBody p,#helpBody li{ line-height:1.6; }
#helpBody ul{ padding-left:1.2em; }


/* どこかのCSSに追加/上書き */
#mmOverlay { touch-action: auto; }

/* === Week chips: スマホ最適化 === */
#weekChips {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px;
}
#weekChips .chip {
  padding: 6px 4px;
  min-width: 0;
  border-radius: 10px;
  line-height: 1.1;
}
#weekChips .chip .km { font-size: 11px; opacity: .8; }

/* 幅が狭い端末で文字・余白をさらに詰める */
@media (max-width: 420px){
  #weekChips { gap: 4px; }
  #weekChips .chip { padding: 5px 3px; }
  #weekChips .chip div:first-child { font-size: 12px; }
  #weekChips .chip .km { font-size: 10px; }
}

/* === 予定反映UIのコンパクト化 === */
.journal-merge-row {
  display: flex;
  gap: 6px;
  align-items: center;
  margin: 6px 0;
}
.journal-merge-row .form-control,
.journal-merge-row select,
.journal-merge-row input,
.journal-merge-row button {
  height: 30px;
  padding: 4px 8px;
  line-height: 22px;
  font-size: 13px;
}
#mergeTagFilter { max-width: 160px; }
#mergeScope { max-width: 160px; }
#mergeBtn { white-space: nowrap; }


/* === 月一覧：調子のピル表示 & 本文2行制限 === */
.month-tags { display: inline-flex; gap: 6px; flex-wrap: wrap; }

.cond-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px; height: 22px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 700;
  color: #fff;
  margin-left: auto; /* ← これを追加 */
  flex-shrink: 0; /* 縮まないように */
}
.cond-1 { background:#9CA3AF; }  /* gray */
.cond-2 { background:#60A5FA; }  /* blue */
.cond-3 { background:#34D399; }  /* green */
.cond-4 { background:#F59E0B; }  /* amber */
.cond-5 { background:#EF4444; }  /* red  */

.month-content-2lines {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.3;
  white-space: normal;
  max-height: calc(1.3em * 2);
}

/* Chartの縦伸び防止：キャンバスの高さを固定 */
.card canvas,
#distanceChartDay, #distanceChartWeek, #distanceChartMonth,
#distanceChart /* 念のため既存IDもカバー */
{
  width: 100% !important;
  height: 180px !important;   /* ← 必要な高さに固定（好みで 160〜220px に） */
  display: block;
}

/* 月一覧の縦色ラベル */
.typebar {
  width: 8px !important;               /* 縦棒の太さ */
  align-self: stretch;      /* 行の高さに合わせて伸びる */
  border-radius: 3px;
  background: #e5e7eb;      /* デフォルト（無色時の薄グレー） */
  margin-right: 8px;        /* 日付との間隔 */
}

/* 日付部分を一行表示 */
.row .dow {
  font-weight: bold;
  margin-right: 8px;
  white-space: nowrap;
}

/* 1行レイアウト */
.month-one-line {
  display: flex;
  align-items: center;
  gap: 0px;
  min-width: 0;
}
.month-train-ellipsis {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.month-one-line .km {
  flex: 0 0 auto;
  opacity: .8;
  padding-right: 8px; /* ← 練習内容との隙間を追加 */
  white-space: nowrap; /* 距離が改行しないように */
}

/* 縦色バー：濃く */
.type-bar {
  width: 6px;
  height: 100%;
  margin-right: 6px;
  flex-shrink: 0;
}
.type-bar.jog    { background: #1d4ed8; } /* 濃い青 */
.type-bar.point  { background: #dc2626; } /* 濃い赤 */
.type-bar.sup    { background: #059669; } /* 濃い緑 */
.type-bar.off    { background: #4b5563; } /* 濃い灰色 */
.type-bar.other  { background: #9333ea; } /* 濃い紫 */

/* 画面上部の共通スワイプバー（透明） */
#globalSwipeBar{
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 28px;           /* 好みで 24~40px に */
  z-index: 50;
  /* 縦スクロールは通しつつ、横ジェスチャはJSが拾えるように */
  touch-action: pan-y pinch-zoom;
  background: transparent;
}

/* ▼ 時計タブ時は上部共通UIを隠す */
.mode-clock header,
.mode-clock .global-nav { display: none !important; }

/* ▼ Ltimer 風（最低限） */
.ltimer { max-width: 720px; margin: 0 auto; display: grid; gap: 12px; }
.ltimer-face { display:flex; justify-content:center; padding: 12px 0; }
#clock-display { font-size: clamp(40px, 8vw, 80px); letter-spacing:.02em; font-variant-numeric: tabular-nums; }
.ltimer-controls { display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
.ltimer-controls button { padding:10px 16px; border-radius:12px; border:1px solid #333; background:#151517; color:#eee; cursor:pointer; }
.ltimer-laps { background:#0e0e10; border:1px solid #222; border-radius:12px; padding:8px 12px; max-height:45vh; overflow:auto; }
#lap-list { margin:0; padding-left: 20px; }
#lap-list li { padding:6px 0; border-bottom:1px dashed #222; }
#lap-list li:last-child { border-bottom:none; }

/* style.css (末尾に追加) */

/* ========== 通知リストの改善 ========== */
#notifyList {
  /* chatlog のスタイルを継承しているため、ここでは通知専用の調整 */
  display: flex; /* Flexboxで縦に並べる */
  flex-direction: column;
  gap: 10px; /* アイテム間の隙間 */
  padding: 0; /* 親の padding は panel にあるのでここではリセット */
}

.notify-card {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 10px;
  padding: 12px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05); /* 軽い影で浮き出し */
  cursor: default; /* デフォルトでカーソルを変更しない */
}

.notify-header {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  border-bottom: 1px solid var(--line); /* ヘッダーとコンテンツの区切り線 */
  padding-bottom: 6px;
  margin-bottom: 8px;
}

.notify-header .notify-icon {
  font-size: 1.2em;
  line-height: 1;
}

.notify-header .notify-title {
  flex: 1;
  color: var(--primary);
}

.notify-header .date {
  font-size: 11px;
  color: var(--muted);
  font-weight: 400;
  white-space: nowrap; /* 日付が改行しないように */
}

.notify-content {
  padding-top: 4px;
}

.notify-day-link {
  color: var(--primary);
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  padding: 4px 0;
  display: block;
}

.notify-comment-text {
  margin-top: 8px;
  padding: 8px;
  background: var(--bg); /* コメント本文を背景色で囲む */
  border-radius: 6px;
  border: 1px solid var(--line);
  font-size: 14px;
  white-space: pre-wrap;
}

/* ========== 通知リストのレイアウト・デザイン修正 (最終版) ========== */

/* 1. 通知タブ (#notify) がアクティブな時のみ、縦方向のFlexコンテナとして振る舞う */
/* これにより、他のタブパネル (日誌など) は元のブロック表示を維持し、レイアウトが崩れない */
#notify.tabpanel.active {
  /* .tabpanel.active の display: block を display: flex に上書き */
  display: flex; 
  flex-direction: column;
  
  /* 画面全体高から topbar + tabsの高さを引く */
  min-height: calc(100vh - 120px); 
}

/* 2. 通知パネル内の .panel が親 (通知タブ) の高さをすべて占めるようにする */
#notify .panel {
  flex-grow: 1; 
  display: flex;
  flex-direction: column;
  min-height: 0; /* Flexアイテムの最小高さのオーバーライド */
}

/* 3. 通知リスト (#notifyList) が残りの高さを占め、スクロール可能領域となる */
#notifyList {
  flex-grow: 1; 
  overflow-y: auto; /* 縦スクロールを有効化 */
  max-height: none !important; /* 過去の制限を解除 */
  
  /* カード型レイアウトの調整 */
  gap: 10px; 
  padding: 0; 
  padding-bottom: 12px;
  display: flex;
  flex-direction: column;
}

/* 4. 通知カードのデザイン（視認性向上） */
.notify-card {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 10px;
  padding: 12px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  cursor: default;
}

.notify-header {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  border-bottom: 1px solid var(--line);
  padding-bottom: 6px;
  margin-bottom: 8px;
}

.notify-header .notify-icon {
  font-size: 1.2em;
  line-height: 1;
}

.notify-header .notify-title {
  flex: 1;
  color: var(--primary);
}

.notify-header .date {
  font-size: 11px;
  color: var(--muted);
  font-weight: 400;
  white-space: nowrap;
}

.notify-content {
  padding-top: 4px;
}

.notify-day-link {
  color: var(--primary);
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  padding: 4px 0;
  display: block;
}

/* 5. コメント本文の縦伸びと視認性の確保 */
.notify-comment-text {
  margin-top: 8px;
  padding: 8px;
  background: var(--bg); 
  border-radius: 6px;
  border: 1px solid var(--line);
  font-size: 14px;
  white-space: pre-wrap;
  min-height: 3em;      /* 少なくとも3行分の高さを確保 */
  max-height: none;     /* 予期せぬ高さ制限を解除 */
  overflow: hidden;     /* 意図しないスクロールを防止 */
}

/* style.css (末尾に追加) */

/* 新しいメンバーナビゲーションボタンのスタイル */
.topbar .small-btn {
  width: 32px; /* 小さくする */
  height: 32px;
  padding: 0;
  line-height: 30px;
  text-align: center;
  font-size: 16px;
  font-weight: 700;
  border-radius: 50%; /* 丸くする */
  flex-shrink: 0; /* 縮まないように */
}

@media (max-width:720px){
  /* =========================================
     1. トップバー (ヘッダー) のレイアウト
     ========================================= */
  .brand { display: none !important; }

  .topbar {
    padding: 4px 6px !important;
    gap: 4px !important;
    min-height: 44px !important; /* タップしやすい高さ */
    height: auto !important;
    flex-wrap: nowrap !important;
    justify-content: space-between !important;
  }

  /* チームユーザーエリア全体（親コンテナ） */
  .topbar .teamuser {
    width: 100% !important;
    margin: 0 !important;
    gap: 4px !important;
    justify-content: space-between !important; /* 左にチーム、右にメンバー */
    align-items: center !important;
    display: flex !important;
  }

  /* --- [左側] チーム切り替えリスト --- */
  #teamSwitchWrap {
    display: flex !important;
    align-items: center !important;
    gap: 2px !important;
    flex: 1 1 auto; /* 伸縮する */
    min-width: 0;   /* 縮小限界を打破 */
    max-width: 50%; /* 画面の半分まで */
  }

  /* チーム選択セレクトボックス */
  #teamSwitchSelect {
    width: 100% !important;
    min-width: 60px;
    height: 30px !important;
    font-size: 12px !important;
    padding: 0 4px !important;
    border-radius: 6px !important;
  }

  /* チーム追加・メイン設定ボタン */
  #addTeamBtn, #setAsMainBtn {
    width: 28px !important;
    height: 30px !important;
    padding: 0 !important;
    font-size: 14px !important;
    display: flex !important;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  /* --- [右側] メンバー切り替え --- */
  #memberNavWrap {
    display: flex !important;
    align-items: center !important;
    gap: 2px !important;
    flex: 1 1 auto;
    justify-content: flex-end;
    min-width: 0;
  }

  /* テキストラベルは非表示 (セレクトボックスで代用) */
  #memberLabel { display: none !important; }
  
  /* MAIN / 閲覧のみ バッジ */
  #mainTeamBadge, #readonlyBadge {
    font-size: 9px !important;
    padding: 1px 3px !important;
    white-space: nowrap;
    transform: scale(0.9);
  }

  /* メンバー選択セレクトボックス */
  #memberSelect {
    width: 100% !important;
    min-width: 60px;
    max-width: 110px; /* 名前が長すぎてもレイアウト崩れ防止 */
    height: 30px !important;
    font-size: 12px !important;
    padding: 0 4px !important;
    border-radius: 6px !important;
  }

  /* 前後移動ボタン (< >) */
  .topbar .small-btn {
    width: 28px !important;
    height: 30px !important;
    padding: 0 !important;
    line-height: 28px !important;
    font-size: 14px !important;
    margin: 0 !important;
  }

  /* ログアウトボタン (アイコン化) */
  #logoutBtn {
    width: 30px !important;
    height: 30px !important;
    padding: 0 !important;
    font-size: 0 !important; /* 文字を隠す */
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    margin-left: 2px;
  }
  #logoutBtn::before {
    content: "⎋"; /* 出口アイコン */
    font-size: 16px;
  }
  
  #openHelpBtn {
    display: flex !important;
    align-items: center; justify-content: center;
    width: 30px !important; height: 30px !important;
    padding: 0 !important;
    font-size: 0 !important; /* 文字「ヘルプ」を隠す */
    margin-right: 2px;
  }
  #openHelpBtn::before {
    content: "❓";
    font-size: 14px;
  }

  /* =========================================
     2. タブメニュー
     ========================================= */
  .tabs {
    padding: 4px 0 !important;
    gap: 4px !important;
    overflow-x: auto !important; /* 横スクロール許可 */
    -webkit-overflow-scrolling: touch;
    justify-content: flex-start;
    display: flex;
  }
  .tab {
    flex: 1 0 auto !important; /* 縮まない */
    padding: 6px 12px !important;
    font-size: 12px !important;
    border-radius: 8px !important;
    text-align: center;
  }
  .tab:first-child { margin-left: 4px; }
  .tab:last-child { margin-right: 4px; }


  /* =========================================
     3. メインコンテンツ・フォーム
     ========================================= */
  .tabpanel { padding: 8px !important; }
  .panel { padding: 10px !important; margin-bottom: 10px !important; border-radius: 8px !important; }
  .journal-grid { display: flex !important; flex-direction: column !important; gap: 10px !important; }

  /* 入力フォーム周り */
  .formcol { gap: 8px !important; }
  .formcol > div[style*="display:flex"] { gap: 8px !important; }
  
  label { font-size: 11px !important; margin-bottom: 2px !important; }
  
  /* 入力欄（文字サイズ14px未満だとiPhoneでズームしてしまうため対策） */
  input:not([type="checkbox"]), textarea, select, .form-control {
    font-size: 14px !important;
    padding: 6px !important;
    min-height: 32px !important;
    height: auto !important;
  }
  textarea { min-height: 4em !important; }

  /* クイックタグボタン */
  .quick { padding: 6px !important; gap: 4px !important; }
  .qbtn {
    padding: 6px 0 !important;
    font-size: 11px !important;
    height: auto !important;
    min-height: 28px !important;
  }

  /* 週カレンダー */
  .weekbar { margin-bottom: 6px !important; gap: 4px !important; }
  #weekChips { gap: 4px !important; }
  #weekChips .chip {
    padding: 4px 2px !important;
    min-width: 0 !important;
    border-radius: 8px !important;
  }
  #weekChips .chip div:first-child { font-size: 10px !important; }
  #weekChips .chip .km { font-size: 9px !important; }
  
  /* コンディション評価ボタン */
  .condition-rating button {
    width: 32px !important;
    height: 32px !important;
    font-size: 12px !important;
  }

  /* 筋疲労マップヘッダー */
  .muscle-header h3 { font-size: 14px !important; }
  .muscle-header .palette .lvl {
    padding: 4px 8px !important;
    font-size: 11px !important;
  }
}

/* ========== スクショモード (Share Mode) ========== */
body.share-mode {
  background-color: #fff !important;
  overflow-y: auto;
}

/* --- 1. 不要な要素を非表示 --- */
body.share-mode .topbar,
body.share-mode .tabs,
body.share-mode #globalSwipeBar,
body.share-mode .weekbar,         
body.share-mode .quick,           
body.share-mode .palette,
body.share-mode .panel h3,
body.share-mode .merge,
body.share-mode #teamSharedCommentBox,
body.share-mode .savebar,
body.share-mode #eraser,
body.share-mode #shareModeBtn,
body.share-mode section.tabpanel:not(#journal) 
{
  display: none !important;
}
body.share-mode input, 
body.share-mode textarea, 
body.share-mode button, 
body.share-mode select, 
body.share-mode .qbtn,
body.share-mode .notify-day-link {
  pointer-events: none !important;
}

:root {
  --share-card-width: 400px;
}

/* スクショモード全体のレイアウト */
body.share-mode {
  background-color: #eee !important; /* 背景を薄いグレーに */
  overflow-y: auto !important;       /* 縦スクロール有効 */
  
  /* Flexboxで中央揃えの準備 */
  display: flex !important;
  flex-direction: column;
  align-items: center;       /* 左右中央揃え */
  min-height: 100vh;         /* 最低でも画面の高さを持つ */
  
  /* 上下の余白（パディング）を確保 */
  padding-top: 30px;
  padding-bottom: 30px; 
}

/* カード本体のスタイル */
body.share-mode #app {
  padding: 0;
  display: block;
  
  /* 固定幅を設定 */
  width: var(--share-card-width) !important;
  flex-shrink: 0;            /* 幅が勝手に縮まないようにする */
  
  /* カードらしい見た目 */
  background-color: #fff;
  box-shadow: 0 4px 20px rgba(0,0,0,0.15); /* 影をつける */
  
  /* 拡大縮小の基準点を「上・中央」に */
  transform-origin: top center;
  
  /* 既定のマージンをリセット */
  margin: 0 !important;
}

/* 文字サイズ固定（縮小されても崩れないように） */
body.share-mode textarea,
body.share-mode input,
body.share-mode .form-control {
    font-size: 14px !important;
}

body.share-mode .tabpanel {
  padding: 16px !important;
  display: block !important;
  height: auto !important;
}

body.share-mode .journal-grid {
  display: flex !important;
  flex-direction: column;
  gap: 12px;
}

body.share-mode .panel {
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  margin: 0 !important;
  background: transparent !important;
}

/* --- 3. 入力フォームのデザイン --- */
body.share-mode input, 
body.share-mode textarea,
body.share-mode .form-control {
  border: 1px solid var(--line) !important;
  background: var(--bg) !important;
  padding: 8px !important;
  border-radius: 8px !important;
  font-weight: normal;
  color: var(--text);
  overflow: hidden; 
  /* ★修正: height指定を削除し、JSの自動調整を有効にする */
  min-height: 0 !important; 
}

/* フォーム周りのレイアウト */
body.share-mode .formcol {
  gap: 12px !important;
}

body.share-mode .formcol > div[style*="display:flex"] {
  justify-content: flex-start;
  gap: 12px !important;
}

/* --- 4. 専用ヘッダー (日付 + カテゴリ) --- */
#shareHeader {
  display: none;
}
body.share-mode #shareHeader {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap; 
  gap: 8px;        
  margin-bottom: 16px;
}
body.share-mode #shareHeader .date-text {
  font-size: 20px;
  font-weight: 800;
  color: var(--primary);
  margin-right: 4px;
  font-family: monospace, serif;
}

/* ★修正: カテゴリボタンを元のサイズ感に戻す */
body.share-mode #shareHeader .qbtn {
  pointer-events: none;
  width: auto !important;       /* 幅を自動に戻す */
  padding: 6px 12px !important; /* 適度な余白 */
  height: auto !important;      /* 高さを自動に */
  line-height: 1.4 !important;
  margin: 0 !important;
  flex: initial !important;     /* 伸び縮みさせない */
}

/* --- 5. 筋疲労マップ --- */
body.share-mode #mmWrap {
  width: 60% !important;
  max-width: 300px;
  margin: 10px auto 0 auto !important;
}

/* style.css (@media (max-width:720px) ブロック内の末尾に追加) */

  /* ========== スクショモード時のスマホ用例外設定 ========== */
  
  /* 1. 感想欄の高さ制限を解除（JSで伸びるようにする） */
  body.share-mode textarea {
    min-height: 0 !important; 
    height: auto !important; /* 初期状態リセット */
  }
  
  /* 2. カテゴリボタンを横並びに戻す（幅100%を解除） */
  body.share-mode #shareHeader .qbtn {
    width: auto !important;       
    display: inline-block !important;
    flex: none !important; /* 無理に引き伸ばさない */
    margin: 0 2px !important; /* ボタン同士の隙間 */
    padding: 6px 12px !important;
    font-size: 12px !important; /* 少し文字サイズ調整 */
  }
  
  /* 3. ヘッダーの日付とボタンを横並びにするレイアウト調整 */
  body.share-mode #shareHeader {
    flex-direction: row !important; /* 横並び強制 */
    align-items: center !important;
    gap: 8px !important;
  }
  
  /* 4. 入力フォームの間隔を少し広げて見やすく */
  body.share-mode .formcol > div[style*="display:flex"] {
    gap: 12px !important;
  }

.topbar {
  position: relative;
  z-index: 100 !important; /* スワイプバー(z-index:50)より大きく */
}

/* style.css (末尾に追加) */

/* ========== スクショモードの操作修正 ========== */

/* アプリ内の全要素（#app）の操作を無効化し、
   タップが確実に背景（解除処理）に伝わるようにする */
body.share-mode #app {
  pointer-events: none !important;
}

/* style.css (末尾の筋疲労ヘッダー設定を上書き) */

/* ========== 筋疲労ヘッダーの横並び（縦幅削減） ========== */
.muscle-header {
  display: flex;
  align-items: center;
  justify-content: space-between; /* 左右配置 */
  margin-bottom: 4px;
}

/* 見出し: 太字を解除し、サイズ調整 */
.muscle-header h3 {
  margin: 0;
  font-size: 15px;      /* 少し控えめに */
  font-weight: 500 !important;  /* ★修正: 太字を解除 */
  white-space: nowrap;
  margin-right: 8px;
  color: var(--text);
}

/* パレットの余白リセット */
.muscle-header .palette {
  margin-bottom: 0 !important;
}

/* スマホでの調整 */
@media (max-width: 720px) {
  /* 見出しをさらに少し小さく */
  .muscle-header h3 {
    font-size: 13px;
  }

  /* ★修正: ボタンを「若干小さく」する設定 */
  .muscle-header .palette .lvl {
    padding: 4px 8px;   /* 余白を減らす */
    font-size: 11px;    /* 文字サイズ縮小 */
    border-radius: 6px; /* 角丸も少し小さく */
  }

  /* 感想欄の高さ確保 */
  #feelInput {
    min-height: 10em !important; 
  }
}

/* style.css (末尾に追加) */

#aiResult {
  background-color: #f0fdf4; /* 薄い緑の背景 */
  border: 1px solid #86efac;
  color: #14532d;
  padding: 10px;
  border-radius: 8px;
  font-size: 13px;
  margin-top: 10px;
}

/* AIコーチ チャット */
#aiChatLog .msg { margin-bottom: 12px; }
#aiChatLog .msg.user { text-align: right; }
#aiChatLog .msg.user .txt { 
  background: var(--primary); color: #fff; 
  display: inline-block; padding: 8px 12px; border-radius: 12px 12px 0 12px; text-align: left;
}
#aiChatLog .msg.model .txt, #aiChatLog .msg.system .txt { 
  background: var(--q-off-light); color: var(--text);
  display: inline-block; padding: 10px; border-radius: 12px; width: 100%;
}
#aiChatLog .msg .name { font-size: 11px; color: var(--muted); display: block; margin-bottom: 2px; }

/* 部位タグエリア */
.parts-tag-area {
  display: flex; flex-wrap: wrap; gap: 6px;
}
.part-tag {
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 12px;
  border: 1px solid var(--line);
  background: #fff;
  cursor: pointer;
  user-select: none;
}
/* Lv1: 青, Lv2: 黄, Lv3: 赤 */
.part-tag.lv1 { background: #bfdbfe; color: #1e3a8a; border-color: #60a5fa; }
.part-tag.lv2 { background: #fed7aa; color: #7c2d12; border-color: #fb923c; }
.part-tag.lv3 { background: #fca5a5; color: #7f1d1d; border-color: #f87171; font-weight: bold; }

/* ... (既存のスタイルは維持) ... */

/* ========== Home Screen Styles ========== */
.home-container {
  max-width: 600px;
  margin: 20px auto;
  padding: 0 10px;
}

.home-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.home-card {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 20px 10px;
  text-align: center;
  cursor: pointer;
  transition: transform 0.1s, box-shadow 0.1s;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.03);
}

.home-card:active {
  transform: scale(0.98);
  background: var(--chip);
}

.home-icon {
  font-size: 32px;
  margin-bottom: 4px;
}

.home-label {
  font-size: 18px;
  font-weight: 700;
  color: var(--text);
}

.home-desc {
  font-size: 11px;
  color: var(--muted);
  line-height: 1.3;
}

/* スマホではグリッドの間隔を調整 */
@media (max-width: 480px) {
  .home-grid {
    gap: 10px;
  }
  .home-card {
    padding: 16px 8px;
  }
  .home-label {
    font-size: 16px;
  }
}

/* 戻るボタンのスタイル調整 */
#goHomeBtn {
  font-size: 13px;
  padding: 6px 10px;
  border-radius: 8px;
  background-color: var(--chip);
  border: 1px solid var(--line);
  color: var(--text);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 4px;
}
#goHomeBtn:hover {
  background-color: var(--chip-on);
}

/* タブバーの非表示用（hiddenクラスは共通定義済みだが念のため確認） */
/* .hidden { display: none !important; } が既に定義されている */

/* ... (Existing styles) ... */

/* ========== Home Screen Styles ========== */
.home-container {
  max-width: 600px;
  margin: 20px auto;
  padding: 0 10px;
}

.home-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.home-card {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 20px 10px;
  text-align: center;
  cursor: pointer;
  transition: transform 0.1s, box-shadow 0.1s;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.03);
}

.home-card:active {
  transform: scale(0.98);
  background: var(--chip);
}

.home-icon {
  font-size: 32px;
  margin-bottom: 4px;
}

.home-label {
  font-size: 18px;
  font-weight: 700;
  color: var(--text);
}

.home-desc {
  font-size: 11px;
  color: var(--muted);
  line-height: 1.3;
}

@media (max-width: 480px) {
  .home-grid {
    gap: 10px;
  }
  .home-card {
    padding: 16px 8px;
  }
  .home-label {
    font-size: 16px;
  }
}

/* Home Button Style */
#goHomeBtn {
  font-size: 13px;
  padding: 6px 10px;
  border-radius: 8px;
  background-color: var(--chip);
  border: 1px solid var(--line);
  color: var(--text);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 4px;
}
#goHomeBtn:hover {
  background-color: var(--chip-on);
}

/* ... (既存のスタイルはそのまま維持) ... */

/* ========== Ltimer Styles & Mini-Tailwind Shim ========== */
:root {
  /* Ltimer Variables */
  --lt-approaching-warn-color: #facc15;
  --lt-approaching-imminent-color: #fb923c;
  --lt-exceeded-color: #f87171;
  --lt-work-color: #4ade80;
  --lt-rest-color: #60a5fa;
  --lt-font-main: clamp(28px, 8vw, 40px);
  --lt-font-live: clamp(22px, 6vw, 32px);
  --lt-btn-h: 56px;
  --lt-master-h: 64px;
  --lt-pm-btn-h: 76px;
}

/* Utilities reused from Tailwind */
.lt-hidden { display: none !important; }
.lt-flex { display: flex; }
.lt-flex-col { flex-direction: column; }
.lt-items-center { align-items: center; }
.lt-justify-center { justify-content: center; }
.lt-justify-between { justify-content: space-between; }
.lt-gap-2 { gap: 8px; }
.lt-gap-3 { gap: 12px; }
.lt-gap-4 { gap: 16px; }
.lt-p-2 { padding: 8px; }
.lt-p-4 { padding: 16px; }
.lt-p-6 { padding: 24px; }
.lt-w-full { width: 100%; }
.lt-h-full { height: 100%; }
.lt-text-center { text-align: center; }
.lt-font-bold { font-weight: 700; }
.lt-text-xl { font-size: 1.25rem; }
.lt-text-2xl { font-size: 1.5rem; }
.lt-text-sm { font-size: 0.875rem; }
.lt-text-white { color: white; }
.lt-rounded-lg { border-radius: 8px; }
.lt-rounded-xl { border-radius: 12px; }
.lt-shadow { box-shadow: 0 1px 3px 0 rgba(0,0,0,0.1), 0 1px 2px 0 rgba(0,0,0,0.06); }
.lt-border { border: 1px solid #e5e7eb; }

/* Colors */
.lt-bg-indigo-600 { background-color: #4f46e5; }
.lt-text-indigo-700 { color: #4338ca; }
.lt-bg-indigo-50 { background-color: #eef2ff; }
.lt-bg-green-500 { background-color: #22c55e; }
.lt-bg-green-600 { background-color: #16a34a; }
.lt-text-green-700 { color: #15803d; }
.lt-bg-green-50 { background-color: #f0fdf4; }
.lt-bg-gray-800 { background-color: #1f2937; }
.lt-bg-gray-200 { background-color: #e5e7eb; }
.lt-bg-gray-100 { background-color: #f3f4f6; }
.lt-text-gray-700 { color: #374151; }
.lt-text-gray-500 { color: #6b7280; }
.lt-bg-red-500 { background-color: #ef4444; }
.lt-bg-blue-500 { background-color: #3b82f6; }
.lt-bg-orange-500 { background-color: #f97316; }

/* Ltimer Components */
.lt-screen { position: relative; height: 100%; width: 100%; overflow: hidden; display: flex; flex-direction: column; }
.lt-back-btn { position: absolute; left: 10px; top: 10px; z-index: 60; }
.lt-back-btn button { width: 44px; height: 44px; border-radius: 50%; background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.15); border: none; font-size: 20px; cursor: pointer; }

/* Grid Layouts */
.lt-grid-cols-3 { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); }
.lt-col-span-2 { grid-column: span 2 / span 2; }
.lt-col-span-1 { grid-column: span 1 / span 1; }

/* Runner Cards */
.runner-wrap { display: flex; flex-direction: column; height: 100%; flex: 1; overflow: hidden; }
.runner-grid { display: grid; flex: 1; padding: 6px; gap: 6px; overflow-y: auto; align-content: start; }
.runner-card { background: #F9FAFB; border-radius: 12px; padding: 8px; display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: auto auto auto 1fr auto; gap: 6px; height: 100%; min-height: 180px; overflow: hidden; border: 1px solid #e5e7eb; position: relative; }
.runner-card-header { grid-column: 1 / -1; display: grid; grid-template-columns: 1fr minmax(80px, 40%); gap: 6px; align-items: center; }
.runner-main-time { grid-column: 1 / -1; font-size: var(--lt-font-main); font-weight: 800; line-height: 1; font-variant-numeric: tabular-nums; }
.runner-lap-live { grid-column: 1 / -1; font-size: var(--lt-font-live); font-weight: 800; border-radius: 8px; padding: 2px 6px; font-variant-numeric: tabular-nums; }
.runner-lap-history { grid-column: 1 / -1; overflow-y: auto; background: rgba(229,231,235,0.8); border-radius: 8px; padding: 4px; font-size: 11px; height: 100%; }
.runner-actions { grid-column: 1 / -1; display: grid; grid-template-columns: 1fr 1.6fr; gap: 6px; margin-top: auto; }
.btn-lap, .btn-start { height: var(--lt-btn-h); border: none; font-weight: bold; color: white; border-radius: 8px; cursor: pointer; }

.split-master { min-height: var(--lt-master-h); background: #1f2937; color: white; display: flex; align-items: center; justify-content: center; padding: 8px; gap: 8px; flex-wrap: wrap; }
.split-master button.btn { height: 40px; }

/* PM Mode */
.pm-grid { display: grid; flex: 1; padding: 6px; gap: 6px; overflow-y: auto; }
.pm-lane { background: #fff; border-radius: 12px; padding: 8px; display: grid; grid-template-rows: auto auto auto 1fr auto; gap: 6px; height: 100%; overflow: hidden; border: 1px solid #e5e7eb; }
.pm-lap-btn { width: 100%; height: var(--lt-pm-btn-h); font-size: 18px; font-weight: bold; border: none; border-radius: 12px; color: white; cursor: pointer; }

/* Custom Timer */
.custom-runner { height: 100%; display: flex; flex-direction: column; justify-content: space-between; align-items: center; text-align: center; padding: 20px; transition: background-color 0.3s; }
.work-bg { background-color: var(--lt-work-color); }
.rest-bg { background-color: var(--lt-rest-color); color: white; }

/* Modal */
.lt-modal { position: absolute; inset: 0; background: rgba(0,0,0,0.6); display: flex; justify-content: center; align-items: center; z-index: 100; padding: 16px; }
.lt-modal-content { background: #fff; border-radius: 12px; padding: 16px; width: 100%; max-width: 600px; max-height: 90%; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }

/* Frames */
.frame-warn10 { background: #fde047 !important; }
.frame-warn5 { background: #fdba74 !important; }
.frame-bad { background: #fca5a5 !important; }

/* Form Controls */
.lt-input { width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px; text-align: center; font-size: 16px; }

/* ... (既存スタイル) ... */

/* ========== Stadium Map Styles ========== */
.std-card {
  background: var(--bg);
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 12px;
  margin-bottom: 10px;
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px;
  align-items: center;
  transition: background-color 0.1s;
}
.std-card:active {
  background-color: var(--chip);
}

.std-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.std-name {
  font-weight: bold;
  font-size: 15px;
  color: var(--text);
}
.std-address {
  font-size: 11px;
  color: var(--muted);
}
.std-region {
  font-size: 10px;
  display: inline-block;
  background: var(--chip);
  padding: 2px 6px;
  border-radius: 4px;
  color: var(--text);
  width: fit-content;
}

.std-map-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 8px 12px;
  background: var(--primary-bg); /* primary colorの薄い版があれば */
  color: var(--primary);
  border-radius: 8px;
  font-size: 11px;
  font-weight: bold;
  border: 1px solid var(--primary);
  text-decoration: none;
  cursor: pointer;
}
.std-map-btn span {
  font-size: 18px;
  margin-bottom: 2px;
}

/* ... (既存のスタイル) ... */

/* 地図のポップアップ内のスタイル */
.leaflet-popup-content-wrapper {
  border-radius: 12px;
}
.leaflet-popup-content {
  margin: 12px;
  text-align: center;
}
.std-popup-title {
  font-weight: bold;
  font-size: 16px;
  margin-bottom: 4px;
  color: var(--text);
}
.std-popup-addr {
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 8px;
}
.std-popup-actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 8px;
}
.std-popup-btn {
  display: block;
  width: 100%;
  padding: 8px;
  border-radius: 6px;
  text-decoration: none;
  font-size: 13px;
  font-weight: bold;
  cursor: pointer;
  border: none;
}
.btn-web {
  background: var(--bg);
  border: 1px solid var(--line);
  color: var(--primary);
}
.btn-plan {
  background: var(--primary);
  color: white;
}


/* 通知バッジ（タブの右上につく赤丸） */
.tab {
  position: relative; /* バッジの基準位置 */
}
.tab.new-message::after {
  content: "";
  position: absolute;
  top: 8px;
  right: 8px;
  width: 8px;
  height: 8px;
  background-color: #ef4444; /* 赤色 */
  border-radius: 50%;
  border: 1px solid #fff;
}

.home-card {
  position: relative; /* バッジの基準位置 */
}
.home-card.new-message::after {
  content: "";
  position: absolute;
  top: 10px;
  right: 10px;
  width: 12px;
  height: 12px;
  background-color: #ef4444; /* 赤色 */
  border-radius: 50%;
  border: 2px solid #fff;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}



